<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:fragment="page_head(title, remove)" th:remove="${remove}">
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0">
	<title>[[${pageTitle}]] - [[${SITE_NAME}]]</title>
	<meta name="description" content="Xorshop - Panneau d&#146;administration de contr&ocirc;le">
	<meta name="author" content="pixelcave">
	<meta name="robots" content="noindex, nofollow">
	<!-- Open Graph Meta -->
	<meta property="og:title" content="Xorshop - Bootstrap 5 Admin Template &amp;">
	<meta property="og:site_name" content="Xorshop">
	<meta property="og:description" content="Xorshop - Panneau d&#146;administration de contr&ocirc;le">
	<meta property="og:type" content="website">
	<meta property="og:url" content="">
	<meta property="og:image" content="">
	<!-- Icons -->
	<!-- The following icons can be replaced with your own, they are used by desktop and mobile browsers -->
	<link rel="shortcut icon" th:href="@{/assets/media/favicons/favicon.png}" />
	<link rel="icon" type="image/png" sizes="192x192" th:href="@{/assets/media/favicons/favicon-192x192.png}" />
	<link rel="apple-touch-icon" sizes="180x180" th:href="@{/assets/media/favicons/apple-touch-icon-180x180.png}" />
	<!-- END Icons -->
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" />
	<link rel="stylesheet" type="text/css" th:href="@{/assets/css/login.css}" />
	<link rel="stylesheet" type="text/css" th:href="@{/assets/fontawesome/all.css}" />
	<script type="text/javascript" th:src="@{/webjars/jquery/jquery.min.js}"></script>
	<script type="text/javascript" th:src="@{/webjars/bootstrap/js/bootstrap.bundle.min.js}"></script>
</head>

<body>
	<div class="container">
		<div class="row">
			<div class="offset-md-2 col-lg-5 col-md-7 offset-lg-4 offset-md-3">
				<div class="panel border bg-white">
					<div class="panel-heading">
						<h3 class="custom-color pt-4 font-weight-bold"> [[${pageTitle}]]</h3>
						<p class="mt-4">
<<<<<<< HEAD
							<a th:href="@{/}"><img th:src="@{${SITE_LOGIN_LOGO}}"></a>
=======
							<a th:href="@{/}"><img th:src="@{${S3_BASE_URI +SITE_LOGIN_LOGO}}"></a>
>>>>>>> e819301 (update Articles, add reCAPTCHA in contact form, and tab reCAPTCHA in setting module)
						</p>

						<div th:if="${error != null}" class="alert alert-danger text-center mx-3 mt-0">
							<!--<p class="text-danger">[[${session.SPRING_SECURITY_LAST_EXCEPTION.message}]]</p>-->
							<p>[[${error}]]</p>
						</div>
						<div th:if="${message != null}" class="alert alert-warning text-center mx-4 mt-0">
							<p>[[${message}]]</p>
						</div>
					</div>
					<div class="panel-body p-3">
						<form th:action="@{/reset_password}" method="post" style="max-width: 420px; margin: 0 auto">
							<input type="hidden" th:value="${token}" name="token" />

							<div class="form-group py-2">
								<div class="input-field"> <span class="fas fa-lock px-2"></span> <input type="password"
										name="password" id="password" placeholder="Entrez le nouveau mot de passe"
										minlength="8" maxlength="15" required="required" /> </div>
							</div>
							<div class="form-group py-1 pb-2">
								<div class="input-field"> <span class="fas fa-lock px-2"></span> <input type="password"
										placeholder="R&eacute;p&eacute;ter le mot de passe"
										oninput="checkPasswordMatch(this)" minlength="8" maxlength="15"
										required="required" /> <button class="btn bg-white text-muted"> <span
											class="far fa-eye-slash"></span>
									</button> </div>
							</div>


							<button type="submit" class="lg-btn">
								<i class="fas fa-key"></i> Envoyer
							</button>

						</form>

						<div class="custom-color text-center pt-4 text-muted">Voulez-vous vous connecter? Cliquez <a
								class="custom-color" th:href="@{/login}">ici</a>
						</div>
						<div class="mx-3 my-2 py-2 border mt-4">
							<div class="text-center text-muted">Vous n'avez pas de compte? <a class="custom-color"
									th:href="@{/register}">Inscrivez-vous!</a>
							</div>
						</div>

					</div>

				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		function checkPasswordMatch(confirmPassword) {
			if (confirmPassword.value != $("#password").val()) {
				confirmPassword.setCustomValidity("Passwords do not match!");
			} else {
				confirmPassword.setCustomValidity("");
			}
		}
	</script>
</body>

</html>